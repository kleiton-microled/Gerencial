import{$ as Dn,$a as qn,A as an,Aa as Hn,B as dn,Ba as An,C as ie,Ca as _n,D as cn,Da as K,E as Se,Ea as On,F as hn,Fa as Ot,G as gn,Ga as Ln,H as D,Ha as Q,I as N,Ia as jn,J as Mt,Ja as Wn,K as M,Ka as Fn,L as un,La as P,M as Tt,Ma as We,N as fn,Na as zn,O as pn,Oa as ne,P as k,Pa as Vn,Q as kt,Qa as Gn,R as q,Ra as Bn,S as Y,Sa as Un,T as ae,Ta as xe,U as mn,Ua as Fe,V as vn,Va as re,W as yn,Wa as ze,X as It,Xa as Ve,Y as bn,Ya as Ge,Z as En,Za as Be,_ as Sn,_a as Ue,a as d,aa as Nt,ab as Yn,b as T,ba as Pt,bb as z,c as R,ca as X,cb as Ce,d as G,da as Ht,db as he,e as Qi,ea as wn,eb as qe,f as B,fa as xn,fb as Ye,g as $i,ga as At,gb as Xe,h as Pe,ha as F,hb as Ke,i as Zi,ia as De,ib as Qe,j as J,ja as Cn,jb as $e,k as Ji,ka as Rn,kb as Ze,l as be,la as _e,lb as Je,m as Ee,ma as de,mb as et,n as en,na as ce,nb as tt,o as tn,oa as A,ob as it,p as nn,pa as Oe,pb as Xn,q as rn,qa as Le,qb as j,r as sn,ra as Mn,rb as Kn,s as U,sa as we,sb as Qn,t as He,ta as je,u as ln,ua as _t,v as ee,va as Tn,w as Ae,wa as kn,x as Rt,xa as In,y as te,ya as Nn,z as on,za as Pn}from"./chunk-ME4VJCA4.js";import{A as qi,B as Yi,b as _i,d as Oi,e as Li,f as ji,g as Wi,h as Fi,l as zi,m as Vi,n as Gi,o as Bi,r as Ui}from"./chunk-UGY3VZKS.js";import{a as Xi,b as Ki}from"./chunk-67VTSJWB.js";import{n as Ct}from"./chunk-CT6LK2C2.js";import{Ab as le,Eb as fe,Jb as V,Kb as oe,Lc as Hi,Ob as pe,Pb as me,Qb as ve,Rb as ye,Sb as w,Tb as Ii,Ub as Ni,Vc as Ai,Wb as St,Xa as H,Xb as Dt,Ya as xi,Yb as wt,_ as Te,ac as xt,ha as ke,hc as Pi,ia as Ie,ib as ue,mb as Ci,nb as Z,qa as _,ra as O,rb as Ri,tb as Ne,ub as Mi,wb as Ti,xb as ki,yb as E,za as Et,zb as S}from"./chunk-PBS4VAO5.js";import"./chunk-FDERIQAA.js";var Lt=class extends P{constructor(){super(...arguments),this.headerElRef=T()}renderSimpleLayout(e,t){let{props:i,context:n}=this,r=[],l=he(n.options);return e&&r.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),d(Y,{elClasses:["fc-daygrid"],viewSpec:n.viewSpec},d(Ye,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:r}))}renderHScrollLayout(e,t,i,n){let r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");let{props:l,context:o}=this,a=!l.forPrint&&he(o.options),c=!l.forPrint&&qe(o.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:a,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),c&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Ce}]}),d(Y,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},d(r,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:i,minWidth:n}]}],sections:h}))}};function nt(s,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of s)t[i.row].push(i);return t}function rt(s,e){let t=[];for(let i=0;i<e;i+=1)t[i]=[];for(let i of s)t[i.firstCol].push(i);return t}function $n(s,e){let t=[];if(s){for(let i=0;i<e;i+=1)t[i]={affectedInstances:s.affectedInstances,isEvent:s.isEvent,segs:[]};for(let i of s.segs)t[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}var Zn=N({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Jn(s){let{display:e}=s.eventRange.ui;return e==="list-item"||e==="auto"&&!s.eventRange.def.allDay&&s.firstCol===s.lastCol&&s.isStart&&s.isEnd}var st=class extends k{render(){let{props:e}=this;return d(Ke,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Zn,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},lt=class extends k{render(){let{props:e,context:t}=this,{options:i}=t,{seg:n}=e,r=i.eventTimeFormat||Zn,l=ce(n,r,t,!0,e.defaultDisplayEventEnd);return d(Xe,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Le(e.seg,t),defaultGenerator:wr,timeText:l,isResizing:!1,isDateSelecting:!1}))}};function wr(s){return d(R,null,d("div",{className:"fc-daygrid-event-dot",style:{borderColor:s.borderColor||s.backgroundColor}}),s.timeText&&d("div",{className:"fc-event-time"},s.timeText),d("div",{className:"fc-event-title"},s.event.title||d(R,null,"\xA0")))}var jt=class extends k{constructor(){super(...arguments),this.compileSegs=D(xr)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return d(it,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let n=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return d(R,null,t.map(r=>{let l=r.eventRange.instance.instanceId;return d("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:n[l]?"hidden":""}},Jn(r)?d(lt,Object.assign({seg:r,isDragging:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},A(r,e.todayRange))):d(st,Object.assign({seg:r,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},A(r,e.todayRange))))}))}})}};function xr(s){let e=[],t=[];for(let i of s)e.push(i.seg),i.isVisible||t.push(i.seg);return{allSegs:e,invisibleSegs:t}}var Cr=N({week:"narrow"}),Wt=class extends P{constructor(){super(...arguments),this.rootElRef=T(),this.state={dayNumberId:J()},this.handleRootEl=e=>{kt(this.rootElRef,e),kt(this.props.elRef,e)}}render(){let{context:e,props:t,state:i,rootElRef:n}=this,{options:r,dateEnv:l}=e,{date:o,dateProfile:a}=t,c=t.showDayNumber&&Mr(o,a.currentRange,l);return d($e,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Rr,date:o,dateProfile:a,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:c,extraRenderProps:t.extraRenderProps},(h,u)=>d("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&d(tt,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:K(e,o,"week"),date:o,defaultFormat:Cr}),!u.isDisabled&&(t.showDayNumber||Ze(r)||t.forceDayTop)?d("div",{className:"fc-daygrid-day-top"},d(h,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},K(e,o)),{id:i.dayNumberId})})):t.showDayNumber?d("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},d("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,d("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,d("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},d(jt,{allDayDate:o,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:n,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),d("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function Rr(s){return s.dayNumberText||d(R,null,"\xA0")}function Mr(s,e,t){let{start:i,end:n}=e,r=on(n,-1),l=t.getYear(i),o=t.getMonth(i),a=t.getYear(r),c=t.getMonth(r);return!(l===a&&o===c)&&(s.valueOf()===i.valueOf()||t.getDay(s)===1&&s.valueOf()<n.valueOf())}function er(s){return s.eventRange.instance.instanceId+":"+s.firstCol}function tr(s){return er(s)+":"+s.lastCol}function Tr(s,e,t,i,n,r,l){let o=new Ft(y=>{let b=s[y.index].eventRange.instance.instanceId+":"+y.span.start+":"+(y.span.end-1);return n[b]||1});o.allowReslicing=!0,o.strictOrder=i,e===!0||t===!0?(o.maxCoord=r,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof t=="number"&&(o.maxStackCnt=t,o.hiddenConsumes=!0);let a=[],c=[];for(let y=0;y<s.length;y+=1){let b=s[y],C=tr(b);n[C]!=null?a.push({index:y,span:{start:b.firstCol,end:b.lastCol+1}}):c.push(b)}let h=o.addSegs(a),u=o.toRects(),{singleColPlacements:f,multiColPlacements:g,leftoverMargins:v}=kr(u,s,l),p=[],m=[];for(let y of c){g[y.firstCol].push({seg:y,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let b=y.firstCol;b<=y.lastCol;b+=1)f[b].push({seg:ge(y,b,b+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<l.length;y+=1)p.push(0);for(let y of h){let b=s[y.index],C=y.span;g[C.start].push({seg:ge(b,C.start,C.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let x=C.start;x<C.end;x+=1)p[x]+=1,f[x].push({seg:ge(b,x,x+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<l.length;y+=1)m.push(v[y]);return{singleColPlacements:f,multiColPlacements:g,moreCnts:p,moreMarginTops:m}}function kr(s,e,t){let i=Ir(s,t.length),n=[],r=[],l=[];for(let o=0;o<t.length;o+=1){let a=i[o],c=[],h=0,u=0;for(let g of a){let v=e[g.index];c.push({seg:ge(v,o,o+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:g.levelCoord,marginTop:g.levelCoord-h}),h=g.levelCoord+g.thickness}let f=[];h=0,u=0;for(let g of a){let v=e[g.index],p=g.span.end-g.span.start>1,m=g.span.start===o;u+=g.levelCoord-h,h=g.levelCoord+g.thickness,p?(u+=g.thickness,m&&f.push({seg:ge(v,g.span.start,g.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:g.levelCoord,marginTop:0})):m&&(f.push({seg:ge(v,g.span.start,g.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:g.levelCoord,marginTop:u}),u=0)}n.push(c),r.push(f),l.push(u)}return{singleColPlacements:n,multiColPlacements:r,leftoverMargins:l}}function Ir(s,e){let t=[];for(let i=0;i<e;i+=1)t.push([]);for(let i of s)for(let n=i.span.start;n<i.span.end;n+=1)t[n].push(i);return t}function ge(s,e,t,i){if(s.firstCol===e&&s.lastCol===t-1)return s;let n=s.eventRange,r=n.range,l=ae(r,{start:i[e].date,end:te(i[t-1].date,1)});return Object.assign(Object.assign({},s),{firstCol:e,lastCol:t-1,eventRange:{def:n.def,ui:Object.assign(Object.assign({},n.ui),{durationEditable:!1}),instance:n.instance,range:l},isStart:s.isStart&&l.start.valueOf()===r.start.valueOf(),isEnd:s.isEnd&&l.end.valueOf()===r.end.valueOf()})}var Ft=class extends We{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:i}=this,n=r=>!this.forceHidden[ne(r)];for(let r=0;r<i.length;r+=1)i[r]=i[r].filter(n);return t}handleInvalidInsertion(e,t,i){let{entriesByLevel:n,forceHidden:r}=this,{touchingEntry:l,touchingLevel:o,touchingLateral:a}=e;if(this.hiddenConsumes&&l){let c=ne(l);if(!r[c])if(this.allowReslicing){let h=Object.assign(Object.assign({},l),{span:Gn(l.span,t.span)}),u=ne(h);r[u]=!0,n[o][a]=h,i.push(h),this.splitEntry(l,t,i)}else r[c]=!0,i.push(l)}super.handleInvalidInsertion(e,t,i)}},ot=class extends P{constructor(){super(...arguments),this.cellElRefs=new z,this.frameElRefs=new z,this.fgElRefs=new z,this.segHarnessRefs=new z,this.rootElRef=T(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:i}=this,{options:n}=i,r=e.cells.length,l=rt(e.businessHourSegs,r),o=rt(e.bgEventSegs,r),a=rt(this.getHighlightSegs(),r),c=rt(this.getMirrorSegs(),r),{singleColPlacements:h,multiColPlacements:u,moreCnts:f,moreMarginTops:g}=Tr(de(e.fgEventSegs,n.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,n.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),v=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return d("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((p,m)=>{let y=this.renderFgSegs(m,e.forPrint?h[m]:u[m],e.todayRange,v),b=this.renderFgSegs(m,Nr(c[m],u),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return d(Wt,{key:p.key,elRef:this.cellElRefs.createRef(p.key),innerElRef:this.frameElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&m===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,moreCnt:f[m],moreMarginTop:g[m],singlePlacements:h[m],fgContentElRef:this.fgElRefs.createRef(p.key),fgContent:d(R,null,d(R,null,y),d(R,null,b)),bgContent:d(R,null,this.renderFillSegs(a[m],"highlight"),this.renderFillSegs(l[m],"non-business"),this.renderFillSegs(o[m],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let i=this.props;this.updateSizing(!Tt(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,i,n,r,l,o){let{context:a}=this,{eventSelection:c}=this.props,{framePositions:h}=this.state,u=this.props.cells.length===1,f=r||l||o,g=[];if(h)for(let v of t){let{seg:p}=v,{instanceId:m}=p.eventRange.instance,y=v.isVisible&&!n[m],b=v.isAbsolute,C="",x="";b&&(a.isRtl?(x=0,C=h.lefts[p.lastCol]-h.lefts[p.firstCol]):(C=0,x=h.rights[p.firstCol]-h.rights[p.lastCol])),g.push(d("div",{className:"fc-daygrid-event-harness"+(b?" fc-daygrid-event-harness-abs":""),key:er(p),ref:f?null:this.segHarnessRefs.createRef(tr(p)),style:{visibility:y?"":"hidden",marginTop:b?"":v.marginTop,top:b?v.absoluteTop:"",left:C,right:x}},Jn(p)?d(lt,Object.assign({seg:p,isDragging:r,isSelected:m===c,defaultDisplayEventEnd:u},A(p,i))):d(st,Object.assign({seg:p,isDragging:r,isResizing:l,isDateSelecting:o,isSelected:m===c,defaultDisplayEventEnd:u},A(p,i)))))}return g}renderFillSegs(e,t){let{isRtl:i}=this.context,{todayRange:n}=this.props,{framePositions:r}=this.state,l=[];if(r)for(let o of e){let a=i?{right:0,left:r.lefts[o.lastCol]-r.lefts[o.firstCol]}:{left:0,right:r.rights[o.firstCol]-r.rights[o.lastCol]};l.push(d("div",{key:Oe(o.eventRange),className:"fc-daygrid-bg-harness",style:a},t==="bg-event"?d(Je,Object.assign({seg:o},A(o,n))):et(t)))}return d(R,{},...l)}updateSizing(e){let{props:t,state:i,frameElRefs:n}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let a=t.cells.map(c=>n.currentMap[c.key]);if(a.length){let c=this.rootElRef.current,h=new Q(c,a,!0,!1);(!i.framePositions||!i.framePositions.similarTo(h))&&this.setState({framePositions:new Q(c,a,!0,!1)})}}let r=this.state.segHeights,l=this.querySegHeights(),o=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},r),l),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let i in e){let n=Math.round(e[i].getBoundingClientRect().height);t[i]=Math.max(t[i]||0,n)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};ot.addStateEquality({segHeights:Tt});function Nr(s,e){if(!s.length)return[];let t=Pr(e);return s.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:t[i.eventRange.instance.instanceId],marginTop:0}))}function Pr(s){let e={};for(let t of s)for(let i of t)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}var zt=class extends P{constructor(){super(...arguments),this.splitBusinessHourSegs=D(nt),this.splitBgEventSegs=D(nt),this.splitFgEventSegs=D(nt),this.splitDateSelectionSegs=D(nt),this.splitEventDrag=D($n),this.splitEventResize=D($n),this.rowRefs=new z}render(){let{props:e,context:t}=this,i=e.cells.length,n=this.splitBusinessHourSegs(e.businessHourSegs,i),r=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitDateSelectionSegs(e.dateSelectionSegs,i),a=this.splitEventDrag(e.eventDrag,i),c=this.splitEventResize(e.eventResize,i),h=i>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return d(re,{unit:"day"},(u,f)=>d(R,null,e.cells.map((g,v)=>d(ot,{ref:this.rowRefs.createRef(v),key:g.length?g[0].date.toISOString():v,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:f,dateProfile:e.dateProfile,cells:g,renderIntro:e.renderRowIntro,businessHourSegs:n[v],eventSelection:e.eventSelection,bgEventSegs:r[v].filter(Hr),fgEventSegs:l[v],dateSelectionSegs:o[v],eventDrag:a[v],eventResize:c[v],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:h,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Q(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Q(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:i,rowPositions:n}=this,r=i.leftToIndex(e),l=n.topToIndex(t);if(l!=null&&r!=null){let o=this.props.cells[l][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,r),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(l,r),rect:{left:i.lefts[r],right:i.rights[r],top:n.tops[l],bottom:n.bottoms[l]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let i=this.props.cells[e][t].date,n=te(i,1);return{start:i,end:n}}};function Hr(s){return s.eventRange.def.allDay}var Vt=class extends P{constructor(){super(...arguments),this.elRef=T(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:i,expandRows:n}=e,r=i===!0||t===!0;r&&!n&&(r=!1,t=null,i=null);let l=["fc-daygrid-body",r?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",n?"":"fc-daygrid-body-natural"];return d("div",{ref:this.elRef,className:l.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},d("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:n?e.clientHeight:""}},e.colGroupNode,d("tbody",{role:"presentation"},d(zt,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=Ar(this.elRef.current,this.props.dateProfile);if(e){let t=e.closest(".fc-daygrid-body"),i=t.closest(".fc-scroller"),n=e.getBoundingClientRect().top-t.getBoundingClientRect().top;i.scrollTop=n?n+1:0}this.needsScrollReset=!1}}};function Ar(s,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=s.querySelector(`[data-date="${hn(e.currentDate)}-01"]`)),t||(t=s.querySelector(`[data-date="${Se(e.currentDate)}"]`)),t}var Gt=class extends Be{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}},Re=class extends P{constructor(){super(...arguments),this.slicer=new Gt,this.tableRef=T()}render(){let{props:e,context:t}=this;return d(Vt,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},at=class extends Lt{constructor(){super(...arguments),this.buildDayTableModel=D(_r),this.headerRef=T(),this.tableRef=T()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:i}=this,n=this.buildDayTableModel(i.dateProfile,t),r=e.dayHeaders&&d(ze,{ref:this.headerRef,dateProfile:i.dateProfile,dates:n.headerDates,datesRepDistinctDays:n.rowCnt===1}),l=o=>d(Re,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:n,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(r,l,n.colCnt,e.dayMinWidth):this.renderSimpleLayout(r,l)}};function _r(s,e){let t=new Ve(s.renderRange,e);return new Ge(t,/year|month|week/.test(s.currentRangeUnit))}var dt=class extends bn{buildRenderRange(e,t,i){let n=super.buildRenderRange(e,t,i),{props:r}=this;return Or({currentRange:n,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}};function Or(s){let{dateEnv:e,currentRange:t}=s,{start:i,end:n}=t,r;if(s.snapToWeek&&(i=e.startOfWeek(i),r=e.startOfWeek(n),r.valueOf()!==n.valueOf()&&(n=Rt(r,1))),s.fixedWeekCount){let l=e.startOfWeek(e.startOfMonth(te(t.end,-1))),o=Math.ceil(an(l,n));n=Rt(n,6-o)}return{start:i,end:n}}var Lr=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';G(Lr);var Bt=j({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:at,dateProfileGeneratorClass:dt},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});xe.touchMouseIgnoreWait=500;var Ut=0,ct=0,qt=!1,ht=class{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&jr(t)&&this.tryStart(t)){let i=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let i=this.createEventFromMouse(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let i=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let n=t.target;this.shouldIgnoreMove||n.addEventListener("touchmove",this.handleTouchMove),n.addEventListener("touchend",this.handleTouchEnd),n.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let i=this.createEventFromTouch(t);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=t=>{if(this.isDragging){let i=t.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,Wr()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,n=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:n,deltaX:i-this.origPageX,deltaY:n-this.origPageY})}},this.containerEl=e,this.emitter=new Ht,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Fr()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),zr()}tryStart(e){let t=this.querySubjectEl(e),i=e.target;return t&&(!this.handleSelector||B(i,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){qt=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?B(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Ut||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(qt=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let i=0,n=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,n=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:n}}createEventFromTouch(e,t){let i=e.touches,n,r,l=0,o=0;return i&&i.length?(n=i[0].pageX,r=i[0].pageY):(n=e.pageX,r=e.pageY),t?(this.origPageX=n,this.origPageY=r):(l=n-this.origPageX,o=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:l,deltaY:o}}};function jr(s){return s.button===0&&!s.ctrlKey}function Wr(){Ut+=1,setTimeout(()=>{Ut-=1},xe.touchMouseIgnoreWait)}function Fr(){ct+=1,ct===1&&window.addEventListener("touchmove",nr,{passive:!1})}function zr(){ct-=1,ct||window.removeEventListener("touchmove",nr,{passive:!1})}function nr(s){qt&&s.preventDefault()}var Yt=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let i=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,t){let i=this.mirrorEl,n=this.sourceEl.getBoundingClientRect();i.style.transition="top "+t+"ms,left "+t+"ms",Pe(i,{left:n.left,top:n.top}),Ji(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(Qi(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Pe(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Pe(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}},gt=class extends jn{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},ut=class extends gt{constructor(e,t){super(new Wn(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return On(this.scrollController.el)}},Xt=class extends gt{constructor(e){super(new Fn,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},ir=typeof performance=="function"?performance.now:Date.now,Kt=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=ir();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let i=e-window.scrollX,n=t-window.scrollY,r=this.pointerScreenY===null?0:n-this.pointerScreenY,l=this.pointerScreenX===null?0:i-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=n,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(ir()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:i}=e,{edgeThreshold:n}=this,r=n-e.distance,l=r*r/(n*n)*this.maxVelocity*t,o=1;switch(e.name){case"left":o=-1;case"right":i.setScrollLeft(i.getScrollLeft()+l*o);break;case"top":o=-1;case"bottom":i.setScrollTop(i.getScrollTop()+l*o);break}}computeBestEdge(e,t){let{edgeThreshold:i}=this,n=null,r=this.scrollCaches||[];for(let l of r){let o=l.clientRect,a=e-o.left,c=o.right-e,h=t-o.top,u=o.bottom-t;a>=0&&c>=0&&h>=0&&u>=0&&(h<=i&&this.everMovedUp&&l.canScrollUp()&&(!n||n.distance>h)&&(n={scrollCache:l,name:"top",distance:h}),u<=i&&this.everMovedDown&&l.canScrollDown()&&(!n||n.distance>u)&&(n={scrollCache:l,name:"bottom",distance:u}),a<=i&&this.everMovedLeft&&l.canScrollLeft()&&(!n||n.distance>a)&&(n={scrollCache:l,name:"left",distance:a}),c<=i&&this.everMovedRight&&l.canScrollRight()&&(!n||n.distance>c)&&(n={scrollCache:l,name:"right",distance:c}))}return n}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new Xt(!1):new ut(t,!1))}queryScrollEls(e){let t=[];for(let i of this.scrollQuery)typeof i=="object"?t.push(i):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return t}},$=class extends Un{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=n=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,en(document.body),nn(document.body),n.isTouch||n.origEvent.preventDefault(),this.emitter.trigger("pointerdown",n),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(n.subjectEl,n.pageX,n.pageY),this.startDelay(n),this.minDistance||this.handleDistanceSurpassed(n)))},this.onPointerMove=n=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",n),!this.isDistanceSurpassed){let r=this.minDistance,l,{deltaX:o,deltaY:a}=n;l=o*o+a*a,l>=r*r&&this.handleDistanceSurpassed(n)}this.isDragging&&(n.origEvent.type!=="scroll"&&(this.mirror.handleMove(n.pageX,n.pageY),this.autoScroller.handleMove(n.pageX,n.pageY)),this.emitter.trigger("dragmove",n))}},this.onPointerUp=n=>{this.isInteracting&&(this.isInteracting=!1,tn(document.body),rn(document.body),this.emitter.trigger("pointerup",n),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(n)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new ht(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),t&&(i.selector=t),this.mirror=new Yt,this.autoScroller=new Kt}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},Qt=class{constructor(e){this.el=e,this.origRect=Ot(e),this.scrollCaches=Ln(e).map(t=>new ut(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let i={left:e,top:t};for(let n of this.scrollCaches)if(!Vr(n.getEventTarget())&&!Tn(i,n.clientRect))return!1;return!0}};function Vr(s){let e=s.tagName;return e==="HTML"||e==="BODY"}var se=class{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:n}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(n.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):n.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Ht}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},i=t,n=e.subjectEl,r;n instanceof HTMLElement&&(r=Ot(n),i=In(i,r));let l=this.initialHit=this.queryHitForOffset(i.left,i.top);if(l){if(this.useSubjectCenter&&r){let o=kn(r,l.rect);o&&(i=Nn(o))}this.coordAdjust=Pn(i,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!pt(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=un(this.droppableStore,e=>(e.component.prepareHits(),new Qt(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:i,offsetTrackers:n}=this,r=null;for(let l in i){let o=i[l].component,a=n[l];if(a&&a.isWithinClipping(e,t)){let c=a.computeLeft(),h=a.computeTop(),u=e-c,f=t-h,{origRect:g}=a,v=g.right-g.left,p=g.bottom-g.top;if(u>=0&&u<v&&f>=0&&f<p){let m=o.queryHit(u,f,v,p);m&&mn(m.dateProfile.activeRange,m.dateSpan.range)&&(this.disablePointCheck||a.el.contains(a.el.getRootNode().elementFromPoint(u+c-window.scrollX,f+h-window.scrollY)))&&(!r||m.layer>r.layer)&&(m.componentId=l,m.context=o.context,m.rect.left+=c,m.rect.right+=c,m.rect.top+=h,m.rect.bottom+=h,r=m)}}}return r}};function pt(s,e){return!s&&!e?!0:!!s!=!!e?!1:Mn(s.dateSpan,e.dateSpan)}function ii(s,e){let t={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(t,i(s,e));return Object.assign(t,Gr(s,e.dateEnv)),t}function Gr(s,e){return{date:e.toDate(s.range.start),dateStr:e.formatIso(s.range.start,{omitTime:s.allDay}),allDay:s.allDay}}var $t=class extends we{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:n}=this,r=i.origEvent.target;n.setIgnoreMove(!this.component.isValidDateDownEl(r))},this.handleDragEnd=i=>{let{component:n}=this,{pointer:r}=this.dragging;if(!r.wasTouchScroll){let{initialHit:l,finalHit:o}=this.hitDragging;if(l&&o&&pt(l,o)){let{context:a}=n,c=Object.assign(Object.assign({},ii(l.dateSpan,a)),{dayEl:l.dayEl,jsEvent:i.origEvent,view:a.viewApi||a.calendarApi.view});a.emitter.trigger("dateClick",c)}}},this.dragging=new $(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new se(this.dragging,je(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},Zt=class extends we{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=l=>{let{component:o,dragging:a}=this,{options:c}=o.context,h=c.selectable&&o.isValidDateDownEl(l.origEvent.target);a.setIgnoreMove(!h),a.delay=l.isTouch?Br(o):null},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,o)=>{let{context:a}=this.component,c=null,h=!1;if(l){let u=this.hitDragging.initialHit;l.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,l)||(c=Ur(u,l,a.pluginHooks.dateSelectionTransformers)),(!c||!qn(c,l.dateProfile,a))&&(h=!0,c=null)}c?a.dispatch({type:"SELECT_DATES",selection:c}):o||a.dispatch({type:"UNSELECT_DATES"}),h?be():Ee(),o||(this.dragSelection=c)},this.handlePointerUp=l=>{this.dragSelection&&(wn(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:i}=t.context,n=this.dragging=new $(e.el);n.touchScrollAllowed=!1,n.minDistance=i.selectMinDistance||0,n.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new se(this.dragging,je(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function Br(s){let{options:e}=s.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function Ur(s,e,t){let i=s.dateSpan,n=e.dateSpan,r=[i.range.start,i.range.end,n.range.start,n.range.end];r.sort(sn);let l={};for(let o of t){let a=o(s,e);if(a===!1)return null;a&&Object.assign(l,a)}return l.range={start:r[0],end:r[3]},l.allDay=i.allDay,l}var rr=(()=>{class s extends we{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:c,dragging:h}=this,{mirror:u}=h,{options:f}=c.context,g=c.context;this.subjectEl=o.subjectEl;let v=this.subjectSeg=_e(o.subjectEl),m=(this.eventRange=v.eventRange).instance.instanceId;this.relevantEvents=Pt(g.getCurrentData().eventStore,m),h.minDistance=o.isTouch?0:f.eventDragMinDistance,h.delay=o.isTouch&&m!==c.props.eventSelection?Yr(c):null,f.fixedMirrorParent?u.parentNode=f.fixedMirrorParent:u.parentNode=B(a,".fc"),u.revertDuration=f.dragRevertDuration;let y=c.isValidSegDownEl(a)&&!B(a,".fc-event-resizer");h.setIgnoreMove(!y),this.isDragging=y&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,c=this.eventRange,h=c.instance.instanceId;o.isTouch?h!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:h}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new F(a,c.def,c.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let c=this.relevantEvents,h=this.hitDragging.initialHit,u=this.component.context,f=null,g=null,v=null,p=!1,m={affectedEvents:c,mutatedEvents:X(),isEvent:!0};if(o){f=o.context;let y=f.options;u===f||y.editable&&y.droppable?(g=qr(h,o,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),g&&(v=At(c,f.getCurrentData().eventUiBases,g,f),m.mutatedEvents=v,Ue(m,o.dateProfile,f)||(p=!0,g=null,v=null,m.mutatedEvents=X()))):f=null}this.displayDrag(f,m),p?be():Ee(),a||(u===f&&pt(h,o)&&(g=null),this.dragging.setMirrorNeedsRevert(!g),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=g,this.mutatedRelevantEvents=v)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,c=a.viewApi,{receivingContext:h,validMutation:u}=this,f=this.eventRange.def,g=this.eventRange.instance,v=new F(a,f,g),p=this.relevantEvents,m=this.mutatedRelevantEvents,{finalHit:y}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:v,jsEvent:o.origEvent,view:c}),u){if(h===a){let b=new F(a,m.defs[f.defId],g?m.instances[g.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:m});let C={oldEvent:v,event:b,relatedEvents:De(m,a,g),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:p})}},x={};for(let W of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(x,W(u,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},C),x),{el:o.subjectEl,delta:u.datesDelta,jsEvent:o.origEvent,view:c})),a.emitter.trigger("eventChange",C)}else if(h){let b={event:v,relatedEvents:De(p,a,g),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:p})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},b),{draggedEl:o.subjectEl,view:c})),a.dispatch({type:"REMOVE_EVENTS",eventStore:p}),a.emitter.trigger("eventRemove",b);let C=m.defs[f.defId],x=m.instances[g.instanceId],W=new F(h,C,x);h.dispatch({type:"MERGE_EVENTS",eventStore:m});let I={event:W,relatedEvents:De(m,h,x),revert(){h.dispatch({type:"REMOVE_EVENTS",eventStore:m})}};h.emitter.trigger("eventAdd",I),o.isTouch&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:g.instanceId}),h.emitter.trigger("drop",Object.assign(Object.assign({},ii(y.dateSpan,h)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:y.context.viewApi})),h.emitter.trigger("eventReceive",Object.assign(Object.assign({},I),{draggedEl:o.subjectEl,view:y.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:n}=i.context,r=this.dragging=new $(t.el);r.pointer.selector=s.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.dragScroll;let l=this.hitDragging=new se(this.dragging,_t);l.useSubjectCenter=t.useEventCenter,l.emitter.on("pointerdown",this.handlePointerDown),l.emitter.on("dragstart",this.handleDragStart),l.emitter.on("hitupdate",this.handleHitUpdate),l.emitter.on("pointerup",this.handlePointerUp),l.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,i){let n=this.component.context,r=this.receivingContext;r&&r!==t&&(r===n?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:X(),isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let t=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),t!==i&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return s.SELECTOR=".fc-event-draggable, .fc-event-resizable",s})();function qr(s,e,t,i){let n=s.dateSpan,r=e.dateSpan,l=n.range.start,o=r.range.start,a={};n.allDay!==r.allDay&&(a.allDay=r.allDay,a.hasEnd=e.context.options.allDayMaintainDuration,r.allDay?l=ie(t):l=t);let c=It(l,o,s.context.dateEnv,s.componentId===e.componentId?s.largeUnit:null);c.milliseconds&&(a.allDay=!1);let h={datesDelta:c,standardProps:a};for(let u of i)u(h,s,e);return h}function Yr(s){let{options:e}=s.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}var Jt=class extends we{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let{component:l}=this,o=this.querySegEl(r),a=_e(o),c=this.eventRange=a.eventRange;this.dragging.minDistance=l.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(r.origEvent.target)||r.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=r=>{let{context:l}=this.component,o=this.eventRange;this.relevantEvents=Pt(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let a=this.querySegEl(r);this.draggingSegEl=a,this.draggingSeg=_e(a),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:a,event:new F(l,o.def,o.instance),jsEvent:r.origEvent,view:l.viewApi})},this.handleHitUpdate=(r,l,o)=>{let{context:a}=this.component,c=this.relevantEvents,h=this.hitDragging.initialHit,u=this.eventRange.instance,f=null,g=null,v=!1,p={affectedEvents:c,mutatedEvents:X(),isEvent:!0};r&&(r.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,r)||(f=Xr(h,r,o.subjectEl.classList.contains("fc-event-resizer-start"),u.range))),f&&(g=At(c,a.getCurrentData().eventUiBases,f,a),p.mutatedEvents=g,Ue(p,r.dateProfile,a)||(v=!0,f=null,g=null,p.mutatedEvents=null)),g?a.dispatch({type:"SET_EVENT_RESIZE",state:p}):a.dispatch({type:"UNSET_EVENT_RESIZE"}),v?be():Ee(),l||(f&&pt(h,r)&&(f=null),this.validMutation=f,this.mutatedRelevantEvents=g)},this.handleDragEnd=r=>{let{context:l}=this.component,o=this.eventRange.def,a=this.eventRange.instance,c=new F(l,o,a),h=this.relevantEvents,u=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:r.origEvent,view:l.viewApi}),this.validMutation){let f=new F(l,u.defs[o.defId],a?u.instances[a.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:u});let g={oldEvent:c,event:f,relatedEvents:De(u,l,a),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:h})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},g),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||U(0),endDelta:this.validMutation.endDelta||U(0),jsEvent:r.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",g)}else l.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,i=this.dragging=new $(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=t.context.options.dragScroll;let n=this.hitDragging=new se(this.dragging,je(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("hitupdate",this.handleHitUpdate),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return B(e.subjectEl,".fc-event")}};function Xr(s,e,t,i){let n=s.context.dateEnv,r=s.dateSpan.range.start,l=e.dateSpan.range.start,o=It(r,l,n,s.largeUnit);if(t){if(n.add(i.start,o)<i.end)return{startDelta:o}}else if(n.add(i.end,o)>i.start)return{endDelta:o};return null}var ei=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let n=this.context.options.unselectCancel,r=Zi(i.origEvent);this.matchesCancel=!!B(r,n),this.matchesEvent=!!B(r,rr.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:n}=this,{documentPointer:r}=this,l=n.getCurrentData();if(!r.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let o=n.options.unselectAuto;o&&(!o||!this.matchesCancel)&&n.calendarApi.unselect(i)}l.eventSelection&&!this.matchesEvent&&n.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new ht(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},Kr={fixedMirrorParent:M},Qr={dateClick:M,eventDragStart:M,eventDragStop:M,eventDrop:M,eventResizeStart:M,eventResizeStop:M,eventResize:M,drop:M,eventReceive:M,eventLeave:M},ti=class{constructor(e,t){this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=n=>{this.dragMeta=this.buildDragMeta(n.subjectEl)},this.handleHitUpdate=(n,r,l)=>{let{dragging:o}=this.hitDragging,a=null,c=null,h=!1,u={affectedEvents:X(),mutatedEvents:X(),isEvent:this.dragMeta.create};n&&(a=n.context,this.canDropElOnCalendar(l.subjectEl,a)&&(c=$r(n.dateSpan,this.dragMeta,a),u.mutatedEvents=Nt(c),h=!Ue(u,n.dateProfile,a),h&&(u.mutatedEvents=X(),c=null))),this.displayDrag(a,u),o.setMirrorIsVisible(r||!c||!document.querySelector(".fc-event-mirror")),h?be():Ee(),r||(o.setMirrorNeedsRevert(!c),this.receivingContext=a,this.droppableEvent=c)},this.handleDragEnd=n=>{let{receivingContext:r,droppableEvent:l}=this;if(this.clearDrag(),r&&l){let o=this.hitDragging.finalHit,a=o.context.viewApi,c=this.dragMeta;if(r.emitter.trigger("drop",Object.assign(Object.assign({},ii(o.dateSpan,r)),{draggedEl:n.subjectEl,jsEvent:n.origEvent,view:a})),c.create){let h=Nt(l);r.dispatch({type:"MERGE_EVENTS",eventStore:h}),n.isTouch&&r.dispatch({type:"SELECT_EVENT",eventInstanceId:l.instance.instanceId}),r.emitter.trigger("eventReceive",{event:new F(r,l.def,l.instance),relatedEvents:[],revert(){r.dispatch({type:"REMOVE_EVENTS",eventStore:h})},draggedEl:n.subjectEl,view:a})}}this.receivingContext=null,this.droppableEvent=null};let i=this.hitDragging=new se(e,_t);i.requireInitial=!1,i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}buildDragMeta(e){return typeof this.suppliedDragMeta=="object"?Fe(this.suppliedDragMeta):typeof this.suppliedDragMeta=="function"?Fe(this.suppliedDragMeta(e)):Zr(e)}displayDrag(e,t){let i=this.receivingContext;i&&i!==e&&i.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})}canDropElOnCalendar(e,t){let i=t.options.dropAccept;return typeof i=="function"?i.call(t.calendarApi,e):typeof i=="string"&&i?!!$i(e,i):!0}};function $r(s,e,t){let i=Object.assign({},e.leftoverProps);for(let h of t.pluginHooks.externalDefTransforms)Object.assign(i,h(s,e));let{refined:n,extra:r}=Sn(i,t),l=Dn(n,r,e.sourceId,s.allDay,t.options.forceEventDuration||!!e.duration,t),o=s.range.start;s.allDay&&e.startTime&&(o=t.dateEnv.add(o,e.startTime));let a=e.duration?t.dateEnv.add(o,e.duration):xn(s.allDay,o,t),c=En(l.defId,{start:o,end:a});return{def:l,instance:c}}function Zr(s){let e=Jr(s,"event"),t=e?JSON.parse(e):{create:!1};return Fe(t)}xe.dataAttrPrefix="";function Jr(s,e){let t=xe.dataAttrPrefix,i=(t?t+"-":"")+e;return s.getAttribute("data-"+i)||""}var ft=class{constructor(e,t={}){this.handlePointerDown=n=>{let{dragging:r}=this,{minDistance:l,longPressDelay:o}=this.settings;r.minDistance=l??(n.isTouch?0:Mt.eventDragMinDistance),r.delay=n.isTouch?o??Mt.longPressDelay:0},this.handleDragStart=n=>{n.isTouch&&this.dragging.delay&&n.subjectEl.classList.contains("fc-event")&&this.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=t;let i=this.dragging=new $(e);i.touchScrollAllowed=!1,t.itemSelector!=null&&(i.pointer.selector=t.itemSelector),t.appendTo!=null&&(i.mirror.parentNode=t.appendTo),i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),new ti(i,t.eventData)}destroy(){this.dragging.destroy()}};var ni=j({name:"@fullcalendar/interaction",componentInteractions:[$t,Zt,rr,Jt],calendarInteractions:[ei],elementDraggingImpl:$,optionRefiners:Kr,listenerRefiners:Qr});var L=class extends fn{};L.prototype.classes={root:"fc-theme-bootstrap",table:"table-bordered",tableCellShaded:"table-active",buttonGroup:"btn-group",button:"btn btn-primary",buttonActive:"active",popover:"popover",popoverHeader:"popover-header",popoverContent:"popover-body"};L.prototype.baseIconClass="fa";L.prototype.iconClasses={close:"fa-times",prev:"fa-chevron-left",next:"fa-chevron-right",prevYear:"fa-angle-double-left",nextYear:"fa-angle-double-right"};L.prototype.rtlIconClasses={prev:"fa-chevron-right",next:"fa-chevron-left",prevYear:"fa-angle-double-right",nextYear:"fa-angle-double-left"};L.prototype.iconOverrideOption="bootstrapFontAwesome";L.prototype.iconOverrideCustomButtonOption="bootstrapFontAwesome";L.prototype.iconOverridePrefix="fa-";var es=".fc-theme-bootstrap a:not([href]){color:inherit}.fc-theme-bootstrap .fc-more-link:hover{text-decoration:none}";G(es);var ri=j({name:"@fullcalendar/bootstrap",themeClasses:{bootstrap:L}});var li=class extends Hn{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Rn(e)?["timed","allDay"]:["allDay"]:["timed"]}},ts=N({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function dr(s){let e=["fc-timegrid-slot","fc-timegrid-slot-label",s.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return d(pn.Consumer,null,t=>{if(!s.isLabeled)return d("td",{className:e.join(" "),"data-time":s.isoTimeStr});let{dateEnv:i,options:n,viewApi:r}=t,l=n.slotLabelFormat==null?ts:Array.isArray(n.slotLabelFormat)?N(n.slotLabelFormat[0]):N(n.slotLabelFormat),o={level:0,time:s.time,date:i.toDate(s.date),view:r,text:i.format(s.date,l)};return d(q,{elTag:"td",elClasses:e,elAttrs:{"data-time":s.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:n.slotLabelContent,defaultGenerator:is,classNameGenerator:n.slotLabelClassNames,didMount:n.slotLabelDidMount,willUnmount:n.slotLabelWillUnmount},a=>d("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},d(a,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function is(s){return s.text}var oi=class extends k{render(){return this.props.slatMetas.map(e=>d("tr",{key:e.key},d(dr,Object.assign({},e))))}},ns=N({week:"short"}),rs=5,ai=class extends P{constructor(){super(...arguments),this.allDaySplitter=new li,this.headerElRef=T(),this.rootElRef=T(),this.scrollerElRef=T(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:i}=this.context,{dateProfile:n}=this.props,r=n.renderRange,o=dn(r.start,r.end)===1?K(this.context,r.start,"week"):{};return i.weekNumbers&&e==="day"?d(tt,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:r.start,defaultFormat:ns},a=>d("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},d(a,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):d("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},d("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:i}=this.context,n={text:t.allDayText,view:i};return d(q,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:n,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:ss,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},r=>d("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},d(r,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,i){let{context:n,props:r}=this,l=[],o=he(n.options);return e&&l.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(l.push({type:"body",key:"all-day",chunk:{content:t}}),l.push({type:"body",key:"all-day-divider",outerContent:d("tr",{role:"presentation",className:"fc-scrollgrid-section"},d("td",{className:"fc-timegrid-divider "+n.theme.getClass("tableCellShaded")}))})),l.push({type:"body",key:"body",liquid:!0,expandRows:!!n.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),d(Y,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:n.viewSpec},d(Ye,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[{width:"shrink"}],sections:l}))}renderHScrollLayout(e,t,i,n,r,l,o){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{context:c,props:h}=this,u=!h.forPrint&&he(c.options),f=!h.forPrint&&qe(c.options),g=[];e&&g.push({type:"header",key:"header",isSticky:u,syncRowHeights:!0,chunks:[{key:"axis",rowContent:p=>d("tr",{role:"presentation"},this.renderHeadAxis("day",p.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(g.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:p=>d("tr",{role:"presentation"},this.renderTableRowAxis(p.rowSyncHeights[0]))},{key:"cols",content:t}]}),g.push({key:"all-day-divider",type:"body",outerContent:d("tr",{role:"presentation",className:"fc-scrollgrid-section"},d("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let v=c.options.nowIndicator;return g.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:p=>d("div",{className:"fc-timegrid-axis-chunk"},d("table",{"aria-hidden":!0,style:{height:p.expandRows?p.clientHeight:""}},p.tableColGroupNode,d("tbody",null,d(oi,{slatMetas:l}))),d("div",{className:"fc-timegrid-now-indicator-container"},d(re,{unit:v?"minute":"day"},m=>{let y=v&&o&&o.safeComputeTop(m);return typeof y=="number"?d(Qe,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:y},isAxis:!0,date:m}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),f&&g.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Ce},{key:"cols",content:Ce}]}),d(Y,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},d(a,{liquid:!h.isHeightAuto&&!h.forPrint,forPrint:h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:n,minWidth:r}]}],sections:g}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=rs),{dayMaxEvents:e,dayMaxEventRows:t}}};function ss(s){return s.text}var di=class{constructor(e,t,i){this.positions=e,this.dateProfile=t,this.slotDuration=i}safeComputeTop(e){let{dateProfile:t}=this;if(vn(t.currentRange,e)){let i=ie(e),n=e.valueOf()-i.valueOf();if(n>=ee(t.slotMinTime)&&n<ee(t.slotMaxTime))return this.computeTimeTop(U(n))}return null}computeDateTop(e,t){return t||(t=ie(e)),this.computeTimeTop(U(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:i}=this,n=t.els.length,r=(e.milliseconds-ee(i.slotMinTime))/ee(this.slotDuration),l,o;return r=Math.max(0,r),r=Math.min(n,r),l=Math.floor(r),l=Math.min(l,n-1),o=r-l,t.tops[l]+t.getHeight(l)*o}},ci=class extends k{render(){let{props:e,context:t}=this,{options:i}=t,{slatElRefs:n}=e;return d("tbody",null,e.slatMetas.map((r,l)=>{let o={time:r.time,date:t.dateEnv.toDate(r.date),view:t.viewApi};return d("tr",{key:r.key,ref:n.createRef(r.key)},e.axis&&d(dr,Object.assign({},r)),d(q,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!r.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":r.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}},hi=class extends k{constructor(){super(...arguments),this.rootElRef=T(),this.slatElRefs=new z}render(){let{props:e,context:t}=this;return d("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},d("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,d(ci,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new di(new Q(this.rootElRef.current,ls(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}};function ls(s,e){return e.map(t=>s[t.key])}function Me(s,e){let t=[],i;for(i=0;i<e;i+=1)t.push([]);if(s)for(i=0;i<s.length;i+=1)t[s[i].col].push(s[i]);return t}function sr(s,e){let t=[];if(s){for(let i=0;i<e;i+=1)t[i]={affectedInstances:s.affectedInstances,isEvent:s.isEvent,segs:[]};for(let i of s.segs)t[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}var gi=class extends k{render(){let{props:e}=this;return d(it,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>cr(e.hiddenSegs,e),defaultGenerator:os,forceTimed:!0},t=>d(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}};function os(s){return s.shortText}function as(s,e,t){let i=new We;e!=null&&(i.strictOrder=e),t!=null&&(i.maxStackCnt=t);let n=i.addSegs(s),r=Vn(n),l=ds(i);return l=us(l,1),{segRects:fs(l),hiddenGroups:r}}function ds(s){let{entriesByLevel:e}=s,t=yi((i,n)=>i+":"+n,(i,n)=>{let r=gs(s,i,n),l=lr(r,t),o=e[i][n];return[Object.assign(Object.assign({},o),{nextLevelNodes:l[0]}),o.thickness+l[1]]});return lr(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function lr(s,e){if(!s)return[[],0];let{level:t,lateralStart:i,lateralEnd:n}=s,r=i,l=[];for(;r<n;)l.push(e(t,r)),r+=1;return l.sort(cs),[l.map(hs),l[0][1]]}function cs(s,e){return e[1]-s[1]}function hs(s){return s[0]}function gs(s,e,t){let{levelCoords:i,entriesByLevel:n}=s,r=n[e][t],l=i[e]+r.thickness,o=i.length,a=e;for(;a<o&&i[a]<l;a+=1);for(;a<o;a+=1){let c=n[a],h,u=Bn(c,r.span.start,zn),f=u[0]+u[1],g=f;for(;(h=c[g])&&h.span.start<r.span.end;)g+=1;if(f<g)return{level:a,lateralStart:f,lateralEnd:g}}return null}function us(s,e){let t=yi((i,n,r)=>ne(i),(i,n,r)=>{let{nextLevelNodes:l,thickness:o}=i,a=o+r,c=o/a,h,u=[];if(!l.length)h=e;else for(let g of l)if(h===void 0){let v=t(g,n,a);h=v[0],u.push(v[1])}else{let v=t(g,h,0);u.push(v[1])}let f=(h-n)*c;return[h-f,Object.assign(Object.assign({},i),{thickness:f,nextLevelNodes:u})]});return s.map(i=>t(i,0,0)[1])}function fs(s){let e=[],t=yi((n,r,l)=>ne(n),(n,r,l)=>{let o=Object.assign(Object.assign({},n),{levelCoord:r,stackDepth:l,stackForward:0});return e.push(o),o.stackForward=i(n.nextLevelNodes,r+n.thickness,l+1)+1});function i(n,r,l){let o=0;for(let a of n)o=Math.max(t(a,r,l),o);return o}return i(s,0,0),e}function yi(s,e){let t={};return(...i)=>{let n=s(...i);return n in t?t[n]:t[n]=e(...i)}}function or(s,e,t=null,i=0){let n=[];if(t)for(let r=0;r<s.length;r+=1){let l=s[r],o=t.computeDateTop(l.start,e),a=Math.max(o+(i||0),t.computeDateTop(l.end,e));n.push({start:Math.round(o),end:Math.round(a)})}return n}function ps(s,e,t,i){let n=[],r=[];for(let c=0;c<s.length;c+=1){let h=e[c];h?n.push({index:c,thickness:1,span:h}):r.push(s[c])}let{segRects:l,hiddenGroups:o}=as(n,t,i),a=[];for(let c of l)a.push({seg:s[c.index],rect:c});for(let c of r)a.push({seg:c,rect:null});return{segPlacements:a,hiddenGroups:o}}var ms=N({hour:"numeric",minute:"2-digit",meridiem:!1}),mt=class extends k{render(){return d(Ke,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:ms}))}},ui=class extends k{constructor(){super(...arguments),this.sortEventSegs=D(de)}render(){let{props:e,context:t}=this,{options:i}=t,n=i.selectMirror,r=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||n&&e.dateSelectionSegs||[],l=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return d($e,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},a=>d("div",{className:"fc-timegrid-col-frame"},d("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),d("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,l,!1,!1,!1)),d("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(r,{},!!e.eventDrag,!!e.eventResize,!!n,"mirror")),d("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Ze(i)&&d(a,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,i,n,r,l){let{props:o}=this;return o.forPrint?cr(e,o):this.renderPositionedFgSegs(e,t,i,n,r,l)}renderPositionedFgSegs(e,t,i,n,r,l){let{eventMaxStack:o,eventShortHeight:a,eventOrderStrict:c,eventMinHeight:h}=this.context.options,{date:u,slatCoords:f,eventSelection:g,todayRange:v,nowDate:p}=this.props,m=i||n||r,y=or(e,u,f,h),{segPlacements:b,hiddenGroups:C}=ps(e,y,c,o);return d(R,null,this.renderHiddenGroups(C,e),b.map(x=>{let{seg:W,rect:I}=x,bt=W.eventRange.instance.instanceId,yr=m||!!(!t[bt]&&I),br=si(I&&I.span),Er=!m&&I?this.computeSegHStyle(I):{left:0,right:0},Sr=!!I&&I.stackForward>0,Dr=!!I&&I.span.end-I.span.start<a;return d("div",{className:"fc-timegrid-event-harness"+(Sr?" fc-timegrid-event-harness-inset":""),key:l||bt,style:Object.assign(Object.assign({visibility:yr?"":"hidden"},br),Er)},d(mt,Object.assign({seg:W,isDragging:i,isResizing:n,isDateSelecting:r,isSelected:bt===g,isShort:Dr},A(W,v,p))))}))}renderHiddenGroups(e,t){let{extraDateSpan:i,dateProfile:n,todayRange:r,nowDate:l,eventSelection:o,eventDrag:a,eventResize:c}=this.props;return d(R,null,e.map(h=>{let u=si(h.span),f=vs(h.entries,t);return d(gi,{key:cn(Xn(f)),hiddenSegs:f,top:u.top,bottom:u.bottom,extraDateSpan:i,dateProfile:n,todayRange:r,nowDate:l,eventSelection:o,eventDrag:a,eventResize:c})}))}renderFillSegs(e,t){let{props:i,context:n}=this,l=or(e,i.date,i.slatCoords,n.options.eventMinHeight).map((o,a)=>{let c=e[a];return d("div",{key:Oe(c.eventRange),className:"fc-timegrid-bg-harness",style:si(o)},t==="bg-event"?d(Je,Object.assign({seg:c},A(c,i.todayRange,i.nowDate))):et(t))});return d(R,null,l)}renderNowIndicator(e){let{slatCoords:t,date:i}=this.props;return t?e.map((n,r)=>d(Qe,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(n.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:t,options:i}=this.context,n=i.slotEventOverlap,r=e.levelCoord,l=e.levelCoord+e.thickness,o,a;n&&(l=Math.min(1,r+(l-r)*2)),t?(o=1-l,a=r):(o=r,a=1-l);let c={zIndex:e.stackDepth+1,left:o*100+"%",right:a*100+"%"};return n&&!e.stackForward&&(c[t?"marginLeft":"marginRight"]=10*2),c}};function cr(s,{todayRange:e,nowDate:t,eventSelection:i,eventDrag:n,eventResize:r}){let l=(n?n.affectedInstances:null)||(r?r.affectedInstances:null)||{};return d(R,null,s.map(o=>{let a=o.eventRange.instance.instanceId;return d("div",{key:a,style:{visibility:l[a]?"hidden":""}},d(mt,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===i,isShort:!1},A(o,e,t))))}))}function si(s){return s?{top:s.start,bottom:-s.end}:{top:"",bottom:""}}function vs(s,e){return s.map(t=>e[t.index])}var fi=class extends k{constructor(){super(...arguments),this.splitFgEventSegs=D(Me),this.splitBgEventSegs=D(Me),this.splitBusinessHourSegs=D(Me),this.splitNowIndicatorSegs=D(Me),this.splitDateSelectionSegs=D(Me),this.splitEventDrag=D(sr),this.splitEventResize=D(sr),this.rootElRef=T(),this.cellElRefs=new z}render(){let{props:e,context:t}=this,i=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),n=e.cells.length,r=this.splitFgEventSegs(e.fgEventSegs,n),l=this.splitBgEventSegs(e.bgEventSegs,n),o=this.splitBusinessHourSegs(e.businessHourSegs,n),a=this.splitNowIndicatorSegs(e.nowIndicatorSegs,n),c=this.splitDateSelectionSegs(e.dateSelectionSegs,n),h=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n);return d("div",{className:"fc-timegrid-cols",ref:this.rootElRef},d("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,d("tbody",{role:"presentation"},d("tr",{role:"row"},e.axis&&d("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},d("div",{className:"fc-timegrid-col-frame"},d("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&d(Qe,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((f,g)=>d(ui,{key:f.key,elRef:this.cellElRefs.createRef(f.key),dateProfile:e.dateProfile,date:f.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:f.extraRenderProps,extraDataAttrs:f.extraDataAttrs,extraClassNames:f.extraClassNames,extraDateSpan:f.extraDateSpan,fgEventSegs:r[g],bgEventSegs:l[g],businessHourSegs:o[g],nowIndicatorSegs:a[g],dateSelectionSegs:c[g],eventDrag:h[g],eventResize:u[g],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Q(this.rootElRef.current,ys(this.cellElRefs.currentMap,e.cells),!0,!1))}};function ys(s,e){return e.map(t=>s[t.key])}var pi=class extends P{constructor(){super(...arguments),this.processSlotOptions=D(bs),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(e.time){let n=i.computeTimeTop(e.time);n=Math.ceil(n),n&&(n+=1),t(n)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return d("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},d(hi,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),d(fi,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:i,options:n}=this.context,{colCoords:r}=this,{dateProfile:l}=this.props,{slatCoords:o}=this.state,{snapDuration:a,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,n.snapDuration),h=r.leftToIndex(e),u=o.positions.topToIndex(t);if(h!=null&&u!=null){let f=this.props.cells[h],g=o.positions.tops[u],v=o.positions.getHeight(u),p=(t-g)/v,m=Math.floor(p*c),y=u*c+m,b=this.props.cells[h].date,C=He(l.slotMinTime,ln(a,y)),x=i.add(b,C),W=i.add(x,a);return{dateProfile:l,dateSpan:Object.assign({range:{start:x,end:W},allDay:!1},f.extraDateSpan),dayEl:r.els[h],rect:{left:r.lefts[h],right:r.rights[h],top:g,bottom:g+v},layer:0}}return null}};function bs(s,e){let t=e||s,i=Ae(s,t);return i===null&&(t=s,i=1),{snapDuration:t,snapsPerSlot:i}}var mi=class extends Be{sliceRange(e,t){let i=[];for(let n=0;n<t.length;n+=1){let r=ae(e,t[n]);r&&i.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:n})}return i}},vi=class extends P{constructor(){super(...arguments),this.buildDayRanges=D(Es),this.slicer=new mi,this.timeColsRef=T()}render(){let{props:e,context:t}=this,{dateProfile:i,dayTableModel:n}=e,{nowIndicator:r,nextDayThreshold:l}=t.options,o=this.buildDayRanges(n,i,t.dateEnv);return d(re,{unit:r?"minute":"day"},(a,c)=>d(pi,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,t,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:n.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:a,nowIndicatorSegs:r&&this.slicer.sliceNowDate(a,i,l,t,o),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}};function Es(s,e,t){let i=[];for(let n of s.headerDates)i.push({start:t.add(n,e.slotMinTime),end:t.add(n,e.slotMaxTime)});return i}var ar=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Ss(s,e,t,i,n){let r=new Date(0),l=s,o=U(0),a=t||Ds(i),c=[];for(;ee(l)<ee(e);){let h=n.add(r,l),u=Ae(o,a)!==null;c.push({date:h,time:l,key:h.toISOString(),isoTimeStr:gn(h),isLabeled:u}),l=He(l,i),o=He(o,i)}return c}function Ds(s){let e,t,i;for(e=ar.length-1;e>=0;e-=1)if(t=U(ar[e]),i=Ae(t,s),i!==null&&i>1)return t;return s}var vt=class extends ai{constructor(){super(...arguments),this.buildTimeColsModel=D(ws),this.buildSlatMetas=D(Ss)}render(){let{options:e,dateEnv:t,dateProfileGenerator:i}=this.context,{props:n}=this,{dateProfile:r}=n,l=this.buildTimeColsModel(r,i),o=this.allDaySplitter.splitProps(n),a=this.buildSlatMetas(r.slotMinTime,r.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:c}=e,h=!c,u=c,f=e.dayHeaders&&d(ze,{dates:l.headerDates,dateProfile:r,datesRepDistinctDays:!0,renderIntro:h?this.renderHeadAxis:null}),g=e.allDaySlot!==!1&&(p=>d(Re,Object.assign({},o.allDay,{dateProfile:r,dayTableModel:l,nextDayThreshold:e.nextDayThreshold,tableMinWidth:p.tableMinWidth,colGroupNode:p.tableColGroupNode,renderRowIntro:h?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:p.clientWidth,clientHeight:p.clientHeight,forPrint:n.forPrint},this.getAllDayMaxEventProps()))),v=p=>d(vi,Object.assign({},o.timed,{dayTableModel:l,dateProfile:r,axis:h,slotDuration:e.slotDuration,slatMetas:a,forPrint:n.forPrint,tableColGroupNode:p.tableColGroupNode,tableMinWidth:p.tableMinWidth,clientWidth:p.clientWidth,clientHeight:p.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:p.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return u?this.renderHScrollLayout(f,g,v,l.colCnt,c,a,this.state.slatCoords):this.renderSimpleLayout(f,g,v)}};function ws(s,e){let t=new Ve(s.renderRange,e);return new Ge(t,!1)}var xs='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';G(xs);var Cs={allDaySlot:Boolean},bi=j({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Cs,views:{timeGrid:{component:vt,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});var Ei=class extends k{constructor(){super(...arguments),this.state={textId:J()}}render(){let{theme:e,dateEnv:t,options:i,viewApi:n}=this.context,{cellId:r,dayDate:l,todayRange:o}=this.props,{textId:a}=this.state,c=An(l,o),h=i.listDayFormat?t.format(l,i.listDayFormat):"",u=i.listDaySideFormat?t.format(l,i.listDaySideFormat):"",f=Object.assign({date:t.toDate(l),view:n,textId:a,text:h,sideText:u,navLinkAttrs:K(this.context,l),sideNavLinkAttrs:K(this.context,l,"day",!1)},c);return d(q,{elTag:"tr",elClasses:["fc-list-day",..._n(c,e)],elAttrs:{"data-date":Se(l)},renderProps:f,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:Rs,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},g=>d("th",{scope:"colgroup",colSpan:3,id:r,"aria-labelledby":a},d(g,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]})))}};function Rs(s){return d(R,null,s.text&&d("a",Object.assign({id:s.textId,className:"fc-list-day-text"},s.navLinkAttrs),s.text),s.sideText&&d("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},s.sideNavLinkAttrs),s.sideText))}var Ms=N({hour:"numeric",minute:"2-digit",meridiem:"short"}),Si=class extends k{render(){let{props:e,context:t}=this,{options:i}=t,{seg:n,timeHeaderId:r,eventHeaderId:l,dateHeaderId:o}=e,a=i.eventTimeFormat||Ms;return d(Xe,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",n.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>Ts(n,t),seg:n,timeText:"",disableDragging:!0,disableResizing:!0}),(c,h)=>d(R,null,ks(n,a,t,r,o),d("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},d("span",{className:"fc-list-event-dot",style:{borderColor:h.borderColor||h.backgroundColor}})),d(c,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${l} ${o}`}})))}};function Ts(s,e){let t=Le(s,e);return d("a",Object.assign({},t),s.eventRange.def.title)}function ks(s,e,t,i,n){let{options:r}=t;if(r.displayEventTime!==!1){let l=s.eventRange.def,o=s.eventRange.instance,a=!1,c;if(l.allDay?a=!0:yn(s.eventRange.range)?s.isStart?c=ce(s,e,t,null,null,o.range.start,s.end):s.isEnd?c=ce(s,e,t,null,null,s.start,o.range.end):a=!0:c=ce(s,e,t),a){let h={text:t.options.allDayText,view:t.viewApi};return d(q,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${n}`},renderProps:h,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:Is,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount})}return d("td",{className:"fc-list-event-time"},c)}return null}function Is(s){return s.text}var yt=class extends P{constructor(){super(...arguments),this.computeDateVars=D(Ps),this.eventStoreToSegs=D(this._eventStoreToSegs),this.state={timeHeaderId:J(),eventHeaderId:J(),dateHeaderIdRoot:J()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:i,dayRanges:n}=this.computeDateVars(e.dateProfile),r=this.eventStoreToSegs(e.eventStore,e.eventUiBases,n);return d(Y,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),t.options.stickyHeaderDates!==!1?"fc-list-sticky":""],viewSpec:t.viewSpec},d(Yn,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},r.length>0?this.renderSegList(r,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,i={text:e.noEventsText,view:t};return d(q,{elTag:"div",elClasses:["fc-list-empty"],renderProps:i,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:Ns,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},n=>d(n,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,t){let{theme:i,options:n}=this.context,{timeHeaderId:r,eventHeaderId:l,dateHeaderIdRoot:o}=this.state,a=Hs(e);return d(re,{unit:"day"},(c,h)=>{let u=[];for(let f=0;f<a.length;f+=1){let g=a[f];if(g){let v=Se(t[f]),p=o+"-"+v;u.push(d(Ei,{key:v,cellId:p,dayDate:t[f],todayRange:h})),g=de(g,n.eventOrder);for(let m of g)u.push(d(Si,Object.assign({key:v+":"+m.eventRange.instance.instanceId,seg:m,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:r,eventHeaderId:l,dateHeaderId:p},A(m,h,c))))}}return d("table",{className:"fc-list-table "+i.getClass("table")},d("thead",null,d("tr",null,d("th",{scope:"col",id:r},n.timeHint),d("th",{scope:"col","aria-hidden":!0}),d("th",{scope:"col",id:l},n.eventHint))),d("tbody",null,u))})}_eventStoreToSegs(e,t,i){return this.eventRangesToSegs(Cn(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(e,t){let i=[];for(let n of e)i.push(...this.eventRangeToSegs(n,t));return i}eventRangeToSegs(e,t){let{dateEnv:i}=this.context,{nextDayThreshold:n}=this.context.options,r=e.range,l=e.def.allDay,o,a,c,h=[];for(o=0;o<t.length;o+=1)if(a=ae(r,t[o]),a&&(c={component:this,eventRange:e,start:a.start,end:a.end,isStart:e.isStart&&a.start.valueOf()===r.start.valueOf(),isEnd:e.isEnd&&a.end.valueOf()===r.end.valueOf(),dayIndex:o},h.push(c),!c.isEnd&&!l&&o+1<t.length&&r.end<i.add(t[o+1].start,n))){c.end=r.end,c.isEnd=!0;break}return h}};function Ns(s){return s.text}function Ps(s){let e=ie(s.renderRange.start),t=s.renderRange.end,i=[],n=[];for(;e<t;)i.push(e),n.push({start:e,end:te(e,1)}),e=te(e,1);return{dayDates:i,dayRanges:n}}function Hs(s){let e=[],t,i;for(t=0;t<s.length;t+=1)i=s[t],(e[i.dayIndex]||(e[i.dayIndex]=[])).push(i);return e}var As=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';G(As);var _s={listDayFormat:hr,listDaySideFormat:hr,noEventsClassNames:M,noEventsContent:M,noEventsDidMount:M,noEventsWillUnmount:M};function hr(s){return s===!1?null:N(s)}var Di=j({name:"@fullcalendar/list",optionRefiners:_s,views:{list:{component:yt,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});var gr=[{id:"1",title:"Meeting with Mr. Shreyu",start:new Date().setDate(new Date().getDate()+2),end:new Date().setDate(new Date().getDate()+4),classNames:["bg-warning"]},{id:"2",title:"Interview - Backend Engineer",start:new Date,classNames:["bg-success"]},{id:"3",title:"Phone Screen - Frontend Engineer",start:new Date().setDate(new Date().getDate()+2),classNames:["bg-info"]},{id:"4",title:"Buy Design Assets",start:new Date().setDate(new Date().getDate()+4),end:new Date().setDate(new Date().getDate()+5),classNames:["bg-primary"]}],ur=[{id:1,title:"New Theme Release",type:"success"},{id:2,title:"My Event",type:"info"},{id:3,title:"Meet Manager",type:"warning"},{id:4,title:"Report Error",type:"danger"}];var Os=["content"],fr=s=>({"is-invalid":s});function Ls(s,e){s&1&&(E(0,"div",14),w(1," Please provide a valid event name "),S())}function js(s,e){s&1&&(E(0,"div",14),w(1," Please select a valid event category "),S())}function Ws(s,e){if(s&1){let t=fe();E(0,"button",28),V("click",function(){_(t);let n=oe(2);return O(n.deleteEvent())}),w(1,"Delete"),S()}}function Fs(s,e){if(s&1){let t=fe();E(0,"div",4)(1,"button",5),V("click",function(){let n=_(t).$implicit;return O(n.dismiss(""))}),S(),E(2,"h5",6),w(3),S()(),E(4,"div",7)(5,"form",8,1),V("ngSubmit",function(){_(t);let n=ye(6),r=oe();return O(n.submitted&&r.saveEvent())}),E(7,"div",9)(8,"div",10)(9,"div",11)(10,"label",12),w(11,"Event Name"),S(),E(12,"input",13,2),wt("ngModelChange",function(n){_(t);let r=oe();return Dt(r.event.title,n)||(r.event.title=n),O(n)}),S(),ue(14,Ls,2,0,"div",14),S()(),E(15,"div",10)(16,"div",11)(17,"label",12),w(18,"Category"),S(),E(19,"select",15,3),wt("ngModelChange",function(n){_(t);let r=oe();return Dt(r.event.category,n)||(r.event.category=n),O(n)}),E(21,"option",16),w(22,"Danger"),S(),E(23,"option",17),w(24,"Success"),S(),E(25,"option",18),w(26,"Primary"),S(),E(27,"option",19),w(28,"Info"),S(),E(29,"option",20),w(30,"Dark"),S(),E(31,"option",21),w(32,"Warning"),S()(),ue(33,js,2,0,"div",14),S()()(),E(34,"div",22)(35,"div",23),ue(36,Ws,2,0,"button",24),S(),E(37,"div",25)(38,"button",26),V("click",function(){let n=_(t).$implicit;return O(n.dismiss(""))}),w(39,"Close"),S(),E(40,"button",27),w(41,"Save"),S()()()()()}if(s&2){let t=ye(6),i=ye(13),n=ye(20),r=oe();H(3),Ii(r.modelTitle),H(9),St("ngModel",r.event.title),Z("ngClass",xt(9,fr,t.submitted&&i.invalid&&(i.dirty||i.touched))),H(2),Ne(t.submitted&&i.invalid&&(i.dirty||i.touched)?14:-1),H(5),St("ngModel",r.event.category),Z("ngClass",xt(11,fr,t.submitted&&n.invalid&&(n.dirty||n.touched))),H(14),Ne(t.submitted&&n.invalid&&(n.dirty||n.touched)?33:-1),H(3),Ne(r.modelTitle==="Edit Event"?36:-1),H(4),Z("disabled",!t.form.valid)}}var pr=(()=>{class s{constructor(t){this.activeModal=t,this.modelTitle="",this.event={},this.eventSaved=new Et,this.eventDeleted=new Et}ngOnInit(){}openModal(t,i){this.modelTitle=t,this.event={id:i.id,title:i.title,category:i.category,start:i.start,classNames:i.classNames},this.activeModal.open(this.content,{backdrop:"static"})}saveEvent(){this.eventSaved.emit(this.event),this.activeModal.dismissAll()}deleteEvent(){this.eventDeleted.emit(this.event),this.activeModal.dismissAll()}static{this.\u0275fac=function(i){return new(i||s)(xi(qi))}}static{this.\u0275cmp=ke({type:s,selectors:[["app-calendar-event"]],viewQuery:function(i,n){if(i&1&&pe(Os,7),i&2){let r;me(r=ve())&&(n.content=r.first)}},outputs:{eventSaved:"eventSaved",eventDeleted:"eventDeleted"},decls:2,vars:0,consts:[["content",""],["eventForm","ngForm"],["title","ngModel"],["category","ngModel"],[1,"modal-header","py-3","px-4","border-bottom-0","d-block"],["type","button","aria-label","Close",1,"btn-close","float-end",3,"click"],["id","modal-title",1,"modal-title"],[1,"modal-body","px-4","pb-4","pt-0"],["name","event-form","id","form-event",1,"needs-validation",3,"ngSubmit"],[1,"row"],[1,"col-12"],[1,"mb-3"],[1,"form-label"],["placeholder","Insert Event Name","type","text","name","title","id","event-title","required","",1,"form-control",3,"ngModelChange","ngModel","ngClass"],[1,"invalid-feedback"],["name","category","id","event-category","required","",1,"form-select",3,"ngModelChange","ngModel","ngClass"],["value","bg-danger","selected",""],["value","bg-success"],["value","bg-primary"],["value","bg-info"],["value","bg-dark"],["value","bg-warning"],[1,"row","mt-2"],[1,"col-md-6","col-4"],["type","button","id","btn-delete-event",1,"btn","btn-danger"],[1,"col-md-6","col-8","text-end"],["type","button",1,"btn","btn-light","me-1",3,"click"],["type","submit","id","btn-save-event",1,"btn","btn-success",3,"disabled"],["type","button","id","btn-delete-event",1,"btn","btn-danger",3,"click"]],template:function(i,n){i&1&&ue(0,Fs,42,13,"ng-template",null,0,Pi)},dependencies:[Hi,Fi,Vi,Gi,_i,zi,Oi,Li,Bi,Wi,ji]})}}return s})();var Vs=["calendar"],Gs=["eventModal"];function Bs(s,e){if(s&1&&(E(0,"div"),le(1,"i",21),w(2),S()),s&2){let t=e.$implicit;Ri("external-event bg-",t.type,""),Ci("data-type",t.type),H(2),Ni("",t.title," ")}}var mr=(()=>{class s{constructor(){this.pageTitle=[],this.calendarOptions={},this.calendarEventsData=[],this.selectedDay={},this.isEditable=!1,this.event={},this.externalEvents=[],this.calendarPlugins=[Bt,ni,ri,bi,Di]}ngOnInit(){this.pageTitle=[{label:"Apps",path:"/"},{label:"Calendar",path:"/",active:!0}],this._fetchData(),this.initCalendar(),this.calendarPlugins}ngAfterViewInit(){new ft(document.getElementById("external-events"),{itemSelector:".external-event"})}initCalendar(){this.calendarOptions={plugins:[Bt,Di,ni,bi,ri],themeSystem:"bootstrap",bootstrapFontAwesome:!1,buttonText:{today:"Today",month:"Month",week:"Week",day:"Day",list:"List",prev:"Prev",next:"Next"},initialView:"dayGridMonth",handleWindowResize:!0,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},events:[...this.calendarEventsData],editable:!0,droppable:!0,selectable:!0,dateClick:this.handleDateClick.bind(this),eventClick:this.handleEventClick.bind(this),drop:this.onDrop.bind(this),eventDrop:this.onEventDrop.bind(this)}}_fetchData(){this.calendarEventsData=gr,this.externalEvents=ur}openEventModal(t="",i={}){this.eventModal.openModal(t,i)}createNewEvent(){this.event={id:String(this.calendarEventsData.length+1),title:"",classNames:"",category:"bg-danger",start:new Date},this.isEditable=!1,this.openEventModal("Add New Event",this.event)}onDrop(t){let i=t.draggedEl,n={id:String(this.calendarEventsData.length+1),title:i.innerText,start:t.date,classNames:"bg-"+i.getAttribute("data-type")};this.calendarEventsData.push(n),this.calendarOptions.events=[...this.calendarEventsData]}onEventDrop(t){let i=[...this.calendarEventsData],n=i.findIndex(r=>r.id===t.event.id);i[n].title=t.event.title,i[n].className=t.event.classNames,i[n].start=t.event.start,i[n].end=t.event.end,this.calendarEventsData=i,this.isEditable=!1}handleDateClick(t){this.selectedDay=t,this.event={id:String(this.calendarEventsData.length+1),title:"",classNames:"",category:"bg-danger",start:this.selectedDay.date},this.isEditable=!1,this.openEventModal("Add New Event",this.event)}handleEventClick(t){let i=t.event;this.event={id:String(i.id),title:i.title,classNames:i.classNames,category:i.classNames[0]},this.isEditable=!0,this.openEventModal("Edit Event",this.event)}handleEventSave(t){if(this.isEditable){let i=[...this.calendarEventsData],n=i.findIndex(r=>r.id===t.id);this.calendarEventsData[n].title=t.title,this.calendarEventsData[n].classNames=t.category,this.calendarEventsData=i,this.isEditable=!1}else{let i={id:t.id,title:t.title,start:t.start,classNames:t.category};this.calendarEventsData.push(i)}this.calendarOptions.events=[...this.calendarEventsData]}handleEventDelete(t){let i=[...this.calendarEventsData],n=i.findIndex(r=>r.id===t.id);i.splice(n,1),this.calendarEventsData=i,this.calendarOptions.events=[...this.calendarEventsData]}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=ke({type:s,selectors:[["app-calendar"]],viewQuery:function(i,n){if(i&1&&(pe(Vs,5),pe(Gs,7)),i&2){let r;me(r=ve())&&(n.calendarComponent=r.first),me(r=ve())&&(n.eventModal=r.first)}},decls:32,vars:2,consts:[["calendar",""],["eventModal",""],["title","Calendar",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"col-lg-3"],["id","btn-new-event",1,"btn","btn-lg","font-16","btn-primary","w-100",3,"click"],[1,"mdi","mdi-plus-circle-outline"],["id","external-events"],[1,"text-muted"],[3,"class"],[1,"mt-5","d-none","d-xl-block"],[1,"text-center"],[1,"ps-3"],[1,"text-muted","mb-3"],[1,"col-lg-9"],["id","calendar"],[3,"options"],[3,"eventSaved","eventDeleted"],[1,"mdi","mdi-checkbox-blank-circle","me-2","vertical-middle"]],template:function(i,n){if(i&1){let r=fe();le(0,"app-page-title",2),E(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",3)(6,"div",7)(7,"button",8),V("click",function(){return _(r),O(n.createNewEvent())}),le(8,"i",9),w(9," Create New Event"),S(),E(10,"div",10),le(11,"br"),E(12,"p",11),w(13,"Drag and drop your event or click in the calendar"),S(),Ti(14,Bs,3,5,"div",12,Mi),S(),E(16,"div",13)(17,"h5",14),w(18,"How It Works ?"),S(),E(19,"ul",15)(20,"li",16),w(21," It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. "),S(),E(22,"li",16),w(23," Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage. "),S(),E(24,"li",16),w(25," It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. "),S()()()(),E(26,"div",17)(27,"div",18),le(28,"full-calendar",19,0),S()()()()(),E(30,"app-calendar-event",20,1),V("eventSaved",function(o){return _(r),O(n.handleEventSave(o))})("eventDeleted",function(o){return _(r),O(n.handleEventDelete(o))}),S()()()}i&2&&(Z("breadcrumbItems",n.pageTitle),H(14),ki(n.externalEvents),H(14),Z("options",n.calendarOptions))},dependencies:[Kn,Xi,pr]})}}return s})();var Us=[{path:"",component:mr}],vr=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=Ie({type:s})}static{this.\u0275inj=Te({imports:[Ct.forChild(Us),Ct]})}}return s})();var Ql=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=Ie({type:s})}static{this.\u0275inj=Te({imports:[Ai,Ui,Qn,Yi,Ki,vr]})}}return s})();export{Ql as CalendarModule};
