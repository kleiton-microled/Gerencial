import{b as p}from"./chunk-CT6LK2C2.js";import{Z as o,ca as n,p as s}from"./chunk-PBS4VAO5.js";var m=(()=>{class e{constructor(r){this.http=r,this.user=null}currentUser(){return this.user||(this.user=JSON.parse(sessionStorage.getItem("currentUser"))),this.user}login(r,i){return this.http.post("/api/login",{email:r,password:i}).pipe(s(t=>(t&&t.token&&(this.user=t,sessionStorage.setItem("currentUser",JSON.stringify(t))),t)))}signup(r,i,t){return this.http.post("/api/signup",{name:r,email:i,password:t}).pipe(s(u=>u))}logout(){sessionStorage.removeItem("currentUser"),this.user=null}static{this.\u0275fac=function(i){return new(i||e)(n(p))}}static{this.\u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{m as a};
